<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Event Ticket Booking</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-image: url('https://images.unsplash.com/photo-1524985069026-dd778a71c7b4'); /* Replace with your own image URL */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: white;
    }

    .seat {
      width: 40px;
      height: 40px;
      margin: 5px;
      display: inline-block;
      text-align: center;
      line-height: 40px;
      cursor: pointer;
      color: white;
      font-weight: bold;
      border-radius: 5px;
    }

    .available { background-color: red; }
    .booked {
      background-color: green;
      cursor: not-allowed;
      opacity: 0.6;
    }

    .seat-row { margin-bottom: 10px; }
    #seat-map { margin-top: 20px; }
    form, #seat-map {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
    }
  </style>
</head>
<body>
<center>
  <h2>Book Your Event Ticket</h2>
  <form id="booking-form">
    <label>Name: <input type="text" name="name" required></label><br><br>
    <label>Email: <input type="email" name="email" required></label><br><br>
    <label>Event:
      <select name="event" id="event-select" required>
        <option value="">Select Event</option>
        <option value="concert">Live Concert</option>
        <option value="play">Drama Play</option>
        <option value="movie">Movie Premiere</option>
      </select>
    </label><br><br>
    <label>Selected Seats: <span id="selected-seats">None</span></label><br><br>
    <button type="submit">Book Now</button>
  </form>

  <div id="seat-map">
    <h3>Select Your Seats</h3>
    <div class="seat-row">
      <div class="seat" data-seat="A1">A1</div>
      <div class="seat" data-seat="A2">A2</div>
      <div class="seat" data-seat="A3">A3</div>
      <div class="seat" data-seat="A4">A4</div>
    </div>
    <div class="seat-row">
      <div class="seat" data-seat="B1">B1</div>
      <div class="seat" data-seat="B2">B2</div>
      <div class="seat" data-seat="B3">B3</div>
      <div class="seat" data-seat="B4">B4</div>
    </div>
  </div>

  <script>
    const seats = document.querySelectorAll('.seat');
    const selectedSeatsDisplay = document.getElementById('selected-seats');
    const eventSelect = document.getElementById('event-select');
    let selectedSeats = [];

    const bookedSeatsByEvent = {
      concert: [],
      play: [],
      movie: []
    };

    eventSelect.addEventListener('change', () => {
      selectedSeats = [];
      selectedSeatsDisplay.textContent = 'None';

      seats.forEach(seat => {
        const seatId = seat.getAttribute('data-seat');
        const currentEvent = eventSelect.value;

        seat.classList.remove('booked', 'available');

        if (currentEvent === '') {
          seat.style.pointerEvents = 'none';
          seat.style.backgroundColor = '#ccc';
        } else {
          seat.style.pointerEvents = 'auto';
          if (bookedSeatsByEvent[currentEvent].includes(seatId)) {
            seat.classList.add('booked');
          } else {
            seat.classList.add('available');
          }
        }
      });
    });

    seats.forEach(seat => {
      seat.addEventListener('click', () => {
        const seatId = seat.getAttribute('data-seat');
        const currentEvent = eventSelect.value;

        if (!currentEvent) {
          alert("Please select an event first.");
          return;
        }

        if (bookedSeatsByEvent[currentEvent].includes(seatId)) {
          alert(`Seat ${seatId} is already booked for ${currentEvent}.`);
          return;
        }

        if (!selectedSeats.includes(seatId)) {
          selectedSeats.push(seatId);
          seat.classList.remove('available');
          seat.classList.add('booked');
          seat.style.pointerEvents = 'none';
        }

        selectedSeatsDisplay.textContent = selectedSeats.join(', ');
      });
    });

    document.getElementById('booking-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const currentEvent = eventSelect.value;

      if (!currentEvent || selectedSeats.length === 0) {
        alert("Please select an event and at least one seat.");
        return;
      }

      bookedSeatsByEvent[currentEvent].push(...selectedSeats);
      alert(`Booking confirmed for ${selectedSeats.join(', ')} in ${currentEvent}.`);

      selectedSeats = [];
      selectedSeatsDisplay.textContent = 'None';
    });
  </script>
  </center>
</body>
</body>
</html>
